# Buffer Overflow Exploit Flow

This document explains the flow of a buffer overflow exploit. The purpose of this project is to demonstrate how a process injector can be used to exploit a vulnerable program by injecting shellcode into its memory and executing it.

The exploit is based on a vulnerable program that uses unsafe functions (like `gets()`) and allows for buffer overflow attacks. The payload (shellcode) is injected and executed in the vulnerable process.

## Step 1: Start the Vulnerable Program

The `vulnerable` program contains a function that uses the `gets()` function, which allows for a buffer overflow. This program is started and waits for input, making it a target for exploitation.

## Step 2: Run the Injector

The `injector` program uses the Windows API to identify the target process by its name (`vulnerable.exe`). Once the process is found, the following steps occur:

1. **Memory Allocation**: The injector allocates executable memory in the target process using `VirtualAllocEx`.
2. **Write Payload**: The payload (shellcode) is written into the allocated memory using `WriteProcessMemory`.
3. **Execute Payload**: A new thread is created in the target process using `CreateRemoteThread`, which begins executing the payload.

The shellcode used in this example is designed to spawn a shell.

## Step 3: Shellcode Execution

Once the payload is executed by the new thread, the shellcode takes over. In this example, the shellcode is designed to spawn a new shell, allowing the attacker to take control of the process.

## Technical Notes

- The payload used in this exploit is shellcode that spawns a shell. This shellcode was injected into the vulnerable program's memory.
- The vulnerability in the `vulnerable` program stems from the use of the `gets()` function, which doesn't perform bounds checking on the input, allowing for buffer overflow.